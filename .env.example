# Invoice Management System - Production Environment Configuration
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#   nano .env

# ===========================================
# OpenRouter API Configuration (for AI invoice reading)
# ===========================================
# Get your API key from: https://openrouter.ai/keys
OPENROUTER_API_KEY=your_openrouter_api_key_here
OPENROUTER_MODEL=openai/gpt-4o

# ===========================================
# File Upload Configuration
# ===========================================
UPLOAD_FOLDER=uploads
MAX_FILE_SIZE_MB=10

# ===========================================
# Backup Configuration
# ===========================================
# External backup location (optional but recommended for production)
# This creates a second copy of backups on a different location
EXTERNAL_BACKUP_PATH=/opt/invoice_backups

# ===========================================
# OAuth Email Login Configuration (Optional)
# ===========================================
# Only needed if you want to use the email inbox feature

# Google OAuth (get from Google Cloud Console)
# https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Microsoft OAuth (get from Azure Portal)
# https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps
MICROSOFT_CLIENT_ID=your_microsoft_client_id
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret

# Token Encryption Key (generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())")
OAUTH_ENCRYPTION_KEY=your_generated_encryption_key_here

# ===========================================
# Database Encryption (Optional but Recommended)
# ===========================================
# Encrypts your database using SQLCipher (256-bit AES)
#
# IMPORTANT: If you set this and encrypt your database:
#   - NEVER lose this key - data is unrecoverable without it
#   - Back up this key in multiple secure locations
#   - Use: python tools/key_backup.py --create
#
# To enable:
#   1. pip install sqlcipher3-binary
#   2. Set DATABASE_KEY below
#   3. Run: python tools/encrypt_database.py
#
# Leave commented out for NO encryption (simpler, but less secure)
# DATABASE_KEY=YourSecretEncryptionKey123!

# ===========================================
# Legacy Gmail Configuration (optional)
# ===========================================
# Only needed if using service account credentials instead of OAuth
GMAIL_CREDENTIALS_PATH=credentials.json
GMAIL_TOKEN_PATH=token.json

# ===========================================
# Security Email Notifications (SMTP)
# ===========================================
# Used for password reset and security alerts
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_FROM=no-reply@example.com
SMTP_USERNAME=your_smtp_username
SMTP_PASSWORD=your_smtp_password
SMTP_USE_STARTTLS=true
# SMTP_USE_SSL=false
# Optional local-dev fallback (writes emails to file when SMTP fails)
# EMAIL_FALLBACK_TO_FILE=true
# EMAIL_OUTBOX_FILE=dev_outbox_emails.log
# EMAIL_LATEST_RESET_LINK_FILE=dev_outbox_latest_reset_link.txt
